(function(e){function t(t){for(var s,r,o=t[0],u=t[1],l=t[2],f=0,d=[];f<o.length;f++)r=o[f],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);c&&c(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},a={app:0},i=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("85ec"),a=n.n(s);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r={name:"App"},o=r,u=(n("034f"),n("2877")),l=Object(u["a"])(o,a,i,!1,null,null,null),c=l.exports,f=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main background"},[e._l(e.spanLength,(function(e,t){return n("span",{key:t})})),n("el-dialog",{attrs:{title:"起个名字吧",visible:e.dialogVisible,width:"300px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{attrs:{placeholder:"起个名字吧",maxlength:"4"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.setName}},[e._v("确 定")])],1)],1),n("div",{staticClass:"chat"},[n("el-container",[n("el-main",{staticClass:"message-box"},[n("div",{ref:"messageList",staticClass:"message-list"},e._l(e.msgList,(function(t,s){return n("div",{key:s,staticClass:"msg"},[n("div",{staticClass:"name",class:{myself:t.name==e.name}},[e._v(e._s(t.name))]),n("div",{staticClass:"text"},[e._v(e._s(t.msg))])])})),0),n("div",{staticClass:"message-send"},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-chat-line-round",type:"primary"},on:{click:e.send},slot:"append"},[e._v("发送")])],1)],1)]),n("el-aside",{staticClass:"aside hidden-xs-only"},[n("div",{staticClass:"user-box"},e._l(e.user,(function(t,s){return n("div",{key:s,staticClass:"user"},[e._v(e._s(t))])})),0)])],1)],1)],2)},p=[],m=(n("caad"),n("b0c0"),n("2532"),{name:"home",components:{},data:function(){return{spanLength:"1234567890",message:"",msgList:[],user:[],name:"默认",dialogVisible:!1}},created:function(){var e=this;localStorage.getItem("name")?(this.name=localStorage.getItem("name"),this.user.push(this.name)):this.dialogVisible=!0,this.ws=new WebSocket("ws://134.175.187.181:3001/test"),this.ws.onmessage=function(t){var n=JSON.parse(t.data);e.msgList.push(n),e.user.includes(n.name)||e.user.push(n.name),e.$nextTick((function(){e.$refs.messageList.scrollTop=e.$refs.messageList.scrollHeight}))},this.ws.addEventListener("open",(function(){}))},watch:{user:function(e,t){this.$notify({title:"来了一位新伙伴~",message:"欢迎 ".concat(e[e.length-1]," 加入聊天室~"),type:"success"})}},methods:{setName:function(){this.dialogVisible=!1,"默认"!=this.name&&(localStorage.setItem("name",this.name),this.user.push(this.name))},send:function(){if(""!=this.message){var e={name:this.name,msg:this.message};this.ws.send(JSON.stringify(e)),this.message=""}else this.$message.error("说点啥呗~")}}}),h=m,g=(n("eb50"),Object(u["a"])(h,d,p,!1,null,"1b69c120",null)),v=g.exports;s["default"].use(f["a"]);var b=[{path:"/",name:"home",component:v}],y=new f["a"]({routes:b}),_=y,w=n("2f62");s["default"].use(w["a"]);var x=new w["a"].Store({state:{},mutations:{},actions:{},modules:{}}),O=(n("d3b7"),n("2427")),k=n.n(O),P={baseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_API,timeout:6e4,withCredentials:!0},j=k.a.create(P);j.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),j.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=j,window.axios=j,Object.defineProperties(e.prototype,{axios:{get:function(){return j}},$axios:{get:function(){return j}}})},s["default"].use(Plugin);var C=Plugin,S=n("7893"),L=n.n(S);n("610a"),n("ba20");s["default"].config.productionTip=!1,s["default"].use(C),s["default"].use(L.a),new s["default"]({router:_,store:x,render:function(e){return e(c)}}).$mount("#app")},"85ec":function(e,t,n){},b6d9:function(e,t,n){},eb50:function(e,t,n){"use strict";var s=n("b6d9"),a=n.n(s);a.a}});
//# sourceMappingURL=app.ca72dfe0.js.map